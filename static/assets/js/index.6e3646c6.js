import{c as v}from"./store.f76b099d.js";import{e as s,I as m,c as l,b as h,p as x,f as g,J as f,K as w,L as B,l as U,o as r}from"./index.c6516d62.js";const b={class:"subscription-push flex align-items bg-cover"},k={key:0,class:"subscription-push-content"},y=g("div",{class:"push-text text-center"},"\u8BF7\u4F7F\u7528\u624B\u673A\u5FAE\u4FE1\u626B\u7801\u7ED1\u5B9A",-1),q={__name:"index",setup(I){const t=s(null),i=1e3*10,a=s(""),o=s(""),n=s(""),u=()=>{f().then(e=>{a.value=e.shortUrl,o.value=e.code})},d=()=>{w({splicingData:{code:o.value}}).then(e=>{n.value=e,c(),p()})},p=()=>{B({splicingData:{wx_uid:n.value}}).then(e=>{v.initGopage()})};t.value=setInterval(()=>{d()},i);const c=()=>{t.value&&(clearInterval(t.value),t.value=null)};return m(()=>{c()}),u(),(e,N)=>{const _=U("a-image");return r(),l("div",b,[a.value?(r(),l("div",k,[h(_,{width:"100%",src:a.value},null,8,["src"]),y])):x("",!0)])}}};export{q as default};
