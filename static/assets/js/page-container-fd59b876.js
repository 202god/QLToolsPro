import{s as e}from"./pinia-1ca0c29b.js";import{c as a}from"./store-bc016a64.js";import{E as l}from"./ant-design-vue-05054bf0.js";import{N as t,r as o,w as s,o as i,f as n,i as r,u,$ as c,U as p,a2 as g,_ as d,a4 as v,a6 as m,a0 as b,c as S,a5 as h,M as y,a3 as x}from"./@vue-11129043.js";const f={key:1,class:"flex-base flex flex-column"},w={key:0,class:"td-all-data"},k=["innerHTML"],z={key:0},N={__name:"page-container",props:{columns:Array,dataSource:Array,isTable:Boolean,isNoYScroll:Boolean,total:[Number,String],pageNum:[Number,String],pageSize:[Number,String],isSearch:Boolean,isScroll:Boolean,isCenter:Boolean,isRowSelection:Boolean,isNoPagination:Boolean,rowSelection:Object},emits:["update:current","update:pageSize","update:total"],setup(N,{emit:H}){const _=N,C=l.PRESENTED_IMAGE_SIMPLE,{siteSettings:T,isMobile:$,routerPageHeight:B}=e(a),{isNoPagination:E,pageSize:j,isNoYScroll:D,isCenter:M,isScroll:A,total:P,pageNum:I,columns:L,dataSource:R,isTable:K,isSearch:U}=t(_),Y=o([]),q=o(null),G=o(0);s(R,((e,a,l)=>{K.value&&O()})),i((()=>{setTimeout((()=>{try{D.value||(G.value=q.value.clientHeight||q.value.$el.clientHeight)}catch(e){}K.value&&O(),H("initData")}),0),window.addEventListener("resize",(()=>{setTimeout((()=>{K.value&&O(),K.value&&!D.value&&(G.value=q.value.clientHeight||q.value.$el.clientHeight)}),10)}))}));const O=()=>{$.value?(Y.value=[{title:"所有",dataIndex:"allData",customAllKey:"allData",customKey:"operation"}],R.value.length&&(R.value=R.value.map((e=>{let a="";for(let l in e){const t=L.value.filter((e=>e.dataIndex==l))[0]||null;t&&(a+="<p class='word-break table-alldata-list'>"+t.title+"："+e[l]+"</p>")}return e.allData=a,e})))):Y.value=L.value},F=(e,a)=>{H("update:current",e),H("update:pageSize",a),H("onShowSizeChange")},J=e=>{};return(e,a)=>{const l=x("a-empty"),t=x("a-table"),o=x("a-pagination");return n(),r("div",{style:b({height:u(B)+"px"}),class:c(["pc-page flex flex-column",[u(A)||u($)?"overflow-scroll":"",u(M)?"align-center":"",u(T).web_bg?"pc-page-bg":""]])},[u(U)?(n(),r("div",{key:0,class:c(["pc-page-search",u($)?"mobile-search":""])},[p(e.$slots,"search")],2)):g("",!0),p(e.$slots,"top",{height:u(B)}),u(K)?(n(),r("div",f,[d("div",{class:c(["flex-base",u(D)||u($)?"":"table-list-container"]),ref_key:"tableRef",ref:q},[u(D)||G.value?(n(),v(t,{key:0,columns:Y.value,showHeader:!u($),"data-source":u(R),"row-selection":N.isRowSelection?N.rowSelection:null,pagination:!1,class:"table-list",scroll:{x:u($)?null:500,y:u($)||u(D)?null:G.value-55}},{bodyCell:m((({text:a,record:l,index:t,column:o})=>["allData"===o.customAllKey&&u($)?(n(),r("div",w,[d("div",{innerHTML:a},null,8,k),p(e.$slots,"bodyCell",{text:a,record:l,index:t,column:o})])):g("",!0),u($)?g("",!0):p(e.$slots,"bodyCell",{key:1,text:a,record:l,index:t,column:o})])),emptyText:m((()=>[d("div",{class:"table-empty flex align-items",style:b({height:G.value-110+"px"})},[S(l,{image:u(C)},null,8,["image"])],4)])),_:3},8,["columns","showHeader","data-source","row-selection","scroll"])):g("",!0)],2),u(E)?g("",!0):(n(),r("div",{key:0,class:c(["flex content-between align-center table-pagination",u(P)?"":"visibility-view"])},[u(P)?(n(),r("div",z," 共"+h(u(P)||0)+"条记录 ",1)):g("",!0),u(P)?(n(),v(o,{key:1,"show-size-changer":"","show-quick-jumper":"",current:u(I),"onUpdate:current":a[0]||(a[0]=e=>y(I)?I.value=e:null),pageSize:u(j),"onUpdate:pageSize":a[1]||(a[1]=e=>y(j)?j.value=e:null),total:u(P),onChange:F,onShowSizeChange:J},null,8,["current","pageSize","total"])):g("",!0)],2))])):g("",!0),p(e.$slots,"bottom")],6)}}};export{N as _};
