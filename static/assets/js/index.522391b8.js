import{e as n,X as b,S as y,r as k,n as E,w as r,o as F,b as l,Z as z,q as h,a3 as T,g as D,ac as N,ad as R,l as v}from"./index.c6516d62.js";import{_ as L}from"./page-container.9c5635db.js";import{d as g}from"./common.15b1556d.js";import{S as M}from"./SyncOutlined.74d523b0.js";import"./store.f76b099d.js";const O=D(" \u641C\u7D22 "),q=D("\u91CD\u7F6E "),$={__name:"index",setup(B){n({}),n(!1);const S=b.useForm,i=n(0),p=n(1),f=n(25);y.PRESENTED_IMAGE_SIMPLE;const o=k({s:""}),d=n(!1),{resetFields:x,validate:I,validateInfos:K}=S(o),C=[{title:"ID",dataIndex:"ID",fixed:"left",width:120},{title:"\u7528\u6237UID",dataIndex:"RechargeUID",fixed:"left",width:200},{title:"\u5145\u503C\u7C7B\u578B",dataIndex:"RechargeType",fixed:"left",width:200},{title:"CDK",dataIndex:"RechargeCDK",fixed:"left",width:200},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"CreatedAt",width:280},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"UpdatedAt",width:280}],_=n([]),m=u=>{u&&(p.value=1);let e={},c;d.value?(c=N,e=o):(c=R,e={quantity:f.value,page:p.value}),c({data:o,splicingData:e}).then(a=>{d.value?i.value=0:a.page==1?i.value=(a.rechargeData||a||[]).length:i.value=a.page*f.value,_.value=(a.rechargeData||a||[]).map(t=>(t.CreatedAt&&(t.CreatedAt=g(t.CreatedAt)),t.UpdatedAt&&(t.UpdatedAt=g(t.UpdatedAt)),t))})},w=()=>{x(),d.value=!1,m()},U=()=>{I().then(u=>{o.s?d.value=!0:d.value=!1,m(!0)}).catch(u=>{console.log("error",u)})};return(u,e)=>{const c=v("a-input"),a=v("a-form-item"),t=v("a-button"),A=v("a-form");return F(),E(L,{columns:C,pageSize:f.value,"onUpdate:pageSize":e[1]||(e[1]=s=>f.value=s),current:p.value,"onUpdate:current":e[2]||(e[2]=s=>p.value=s),total:i.value,"onUpdate:total":e[3]||(e[3]=s=>i.value=s),isTable:!0,isSearch:!0,onOnShowSizeChange:m,onInitData:m,dataSource:_.value},{search:r(()=>[l(A,{class:"flex flex-warp",model:o},{default:r(()=>[l(a,{label:"\u5173\u952E\u5B57:",name:"s"},{default:r(()=>[l(c,{value:o.s,"onUpdate:value":e[0]||(e[0]=s=>o.s=s),placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u5B57"},null,8,["value"])]),_:1}),l(a,null,{default:r(()=>[l(t,{type:"primary",onClick:z(U,["prevent"]),class:"filter-search"},{default:r(()=>[l(h(T)),O]),_:1},8,["onClick"]),l(t,{style:{"margin-left":"10px"},class:"filter-reset",onClick:w},{default:r(()=>[l(h(M)),q]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["pageSize","current","total","dataSource"])}}};export{$ as default};
