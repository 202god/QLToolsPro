import{T as e,E as a}from"./@wangeditor-c98dfed2.js";import{_ as t}from"./page-container-fd59b876.js";import{a4 as o}from"./index-e150f431.js";import{c as l}from"./store-bc016a64.js";import{s as i}from"./pinia-1ca0c29b.js";import{s as r,B as s,k as c,q as n,a4 as d,a6 as p,f as u,c as b,_ as m,u as g,$ as f,a8 as _,L as v,a3 as w}from"./@vue-11129043.js";import{m as j}from"./ant-design-vue-05054bf0.js";import"./axios-93d3568f.js";import"./@babel-eab0ef53.js";import"./qs-8fb0a9f1.js";import"./side-channel-ee547e73.js";import"./get-intrinsic-53528089.js";import"./has-symbols-1f359e75.js";import"./function-bind-c930bb92.js";import"./has-03e8e28c.js";import"./call-bind-566c57e8.js";import"./object-inspect-5c6480f3.js";import"./vue-router-36397834.js";import"./dayjs-04e8f6f9.js";import"./vue3-colorpicker-e1559e09.js";import"./vue-types-0fd36d85.js";import"./is-plain-object-39134198.js";import"./tinycolor2-e232e212.js";import"./@vueuse-94329f85.js";import"./@aesoper-316802a3.js";import"./vue3-angle-2884cf46.js";import"./gradient-parser-c9367eab.js";import"./lodash-es-0ceb8576.js";import"./@popperjs-31624eb1.js";import"./resize-observer-polyfill-9cd09a67.js";import"./@ant-design-477981d5.js";import"./@ctrl-16df70a4.js";import"./dom-align-6a5270eb.js";import"./async-validator-604317c1.js";import"./scroll-into-view-if-needed-8ce8502d.js";import"./compute-scroll-into-view-cce79123.js";import"./vue-demi-a81ff0a7.js";const h=m("div",{class:"input-tip"},"此设置会更改前台的网站标题",-1),y=m("div",{class:"input-tip"},"此设置会更改网站图标, 支持图床和直接返回图片的API接口",-1),x=m("div",{class:"input-tip"},"此设置会更改前后台左侧LOGO图片, 支持图床和直接返回图片的API接口",-1),k=m("div",{class:"input-tip"},"此设置会更改前后台的背景图, 支持图床和直接返回图片的API接口",-1),q=v("打开"),O=v("关闭"),U=m("div",{class:"input-tip"},"此设置会更改是否可用注册功能",-1),C={style:{border:"1px solid #ccc"}},I=v("提交"),L={__name:"index",setup(v){const{isMobile:L}=i(l),S=r(),A={excludeKeys:["group-video","group-image","headerSelect","italic","group-more-style"]},F={placeholder:"请输入公告内容..."};s((()=>{const e=S.value;null!=e&&e.destroy()}));const G=e=>{S.value=e},P=c({web_title:"",web_ico:"",web_logo:"",web_bg:"",register:"1",notice:""}),V=n((()=>({web_title:[{required:!1,trigger:"change"}],web_ico:[{required:!1,trigger:"change"}],web_logo:[{required:!1,trigger:"change"}],web_bg:[{required:!1,trigger:"change"}],register:[{required:!1,trigger:"change"}],notice:[{required:!1,trigger:"change"}]}))),W={labelCol:{span:3},wrapperCol:{span:16}},z=e=>{o({data:[{key:"web_title",value:P.web_title},{key:"web_ico",value:P.web_ico},{key:"web_logo",value:P.web_logo},{key:"web_bg",value:P.web_bg},{key:"register",value:P.register},{key:"notice",value:P.notice}]}).then((()=>{l.getWebSetting(),j.success("设置成功")}))},B=e=>{},D=()=>{l.getWebSetting().then((e=>{P.web_title=e.web_title||"",P.web_ico=e.web_ico||"",P.web_logo=e.web_logo||"",P.register=e.register||"",P.web_bg=e.web_bg||"",P.notice=e.notice||""}))};return(o,l)=>{const i=w("a-input"),r=w("a-form-item"),s=w("a-textarea"),c=w("a-radio"),n=w("a-radio-group"),v=w("a-button"),j=w("a-form");return u(),d(t,{onInitData:D,isScroll:""},{top:p((({height:t})=>[b(j,_({model:P,name:"basic",rules:g(V)},W,{autocomplete:"off",onFinish:z,class:"flex flex-column page-form",style:{height:t-48+"px"},onFinishFailed:B}),{default:p((()=>[m("div",{class:f(["flex-base",g(L)?"":"overflow-scroll"])},[b(r,{label:"网站标题",name:"web_title","has-feedback":""},{default:p((()=>[b(i,{value:P.web_title,"onUpdate:value":l[0]||(l[0]=e=>P.web_title=e),"allow-clear":"",placeholder:"请输入网站标题"},null,8,["value"]),h])),_:1}),b(r,{label:"网站图标",name:"web_ico","has-feedback":""},{default:p((()=>[b(s,{value:P.web_ico,"onUpdate:value":l[1]||(l[1]=e=>P.web_ico=e),"allow-clear":"",placeholder:"请输入网站图标"},null,8,["value"]),y])),_:1}),b(r,{label:"网站LOGO",name:"web_logo","has-feedback":""},{default:p((()=>[b(s,{value:P.web_logo,"onUpdate:value":l[2]||(l[2]=e=>P.web_logo=e),"allow-clear":"",placeholder:"请输入网站LOGO"},null,8,["value"]),x])),_:1}),b(r,{label:"网站背景",name:"web_bg","has-feedback":""},{default:p((()=>[b(s,{value:P.web_bg,"onUpdate:value":l[3]||(l[3]=e=>P.web_bg=e),"allow-clear":"",placeholder:"请输入网站背景"},null,8,["value"]),k])),_:1}),b(r,{label:"注册开关",name:"register"},{default:p((()=>[b(n,{value:P.register,"onUpdate:value":l[4]||(l[4]=e=>P.register=e)},{default:p((()=>[b(c,{value:"1",name:"type"},{default:p((()=>[q])),_:1}),b(c,{value:"2",name:"type"},{default:p((()=>[O])),_:1})])),_:1},8,["value"]),U])),_:1}),b(r,{label:"网站公告",name:"notice"},{default:p((()=>[m("div",C,[b(g(e),{style:{"border-bottom":"1px solid #ccc"},editor:g(S),defaultConfig:A,mode:o.mode},null,8,["editor","mode"]),b(g(a),{style:{height:"300px","overflow-y":"hidden"},modelValue:P.notice,"onUpdate:modelValue":l[5]||(l[5]=e=>P.notice=e),defaultConfig:F,mode:o.mode,onOnCreated:G},null,8,["modelValue","mode"])])])),_:1})],2),b(r,{label:""},{default:p((()=>[b(v,{type:"primary","html-type":"submit"},{default:p((()=>[I])),_:1})])),_:1})])),_:2},1040,["model","rules","style"])])),_:1})}}};export{L as default};
