import{S as j,O as q,z as L,e as y,B as O,o as n,c as g,q as e,C as p,p as r,f as h,n as _,w,T as x,b as Y,s as z,x as G,U as C,l as v}from"./index.c6516d62.js";import{c as F}from"./store.f76b099d.js";const J={key:0,class:"pc-page-search"},K={key:1,class:"flex-base flex flex-column"},Q={class:"flex content-between align-center table-pagination"},W={key:0},ee={__name:"page-container",props:{columns:Array,dataSource:Array,isTable:Boolean,isNoYScroll:Boolean,total:[Number,String],pageNum:[Number,String],pageSize:[Number,String],isSearch:Boolean,isScroll:Boolean,isCenter:Boolean,isRowSelection:Boolean,rowSelection:Object},emits:["update:current","update:pageSize","update:total"],setup(m,{emit:c}){const B=m,N=j.PRESENTED_IMAGE_SIMPLE,{routerPageHeight:f}=q(F),{pageSize:d,isNoYScroll:s,isCenter:k,isScroll:E,total:u,pageNum:S,columns:H,dataSource:R,isTable:b,isSearch:T}=L(B),o=y(null),l=y(0);O(()=>{setTimeout(()=>{try{s.value||(l.value=o.value.clientHeight||o.value.$el.clientHeight)}catch{}c("initData")},0),window.addEventListener("resize",()=>{b.value&&!s.value&&setTimeout(()=>{l.value=o.value.clientHeight||o.value.$el.clientHeight,console.log("tableHeight.value3 ",l.value,o.value.clientHeight)},10)})});const $=(t,a)=>{c("update:current",t),c("update:pageSize",a),c("onShowSizeChange"),console.log("page, pageSize",t,a)},U=t=>{console.log("eee",t)};return(t,a)=>{const A=v("a-empty"),D=v("a-table"),I=v("a-pagination");return n(),g("div",{style:x({height:e(f)+"px"}),class:z(["pc-page flex flex-column",[e(E)?"overflow-scroll":"",e(k)?"align-center":""]])},[e(T)?(n(),g("div",J,[p(t.$slots,"search")])):r("",!0),p(t.$slots,"top",{height:e(f)}),e(b)?(n(),g("div",K,[h("div",{class:z(["flex-base",e(s)?"":"table-list-container"]),ref_key:"tableRef",ref:o},[e(s)||l.value?(n(),_(D,{key:0,columns:e(H),"data-source":e(R),"row-selection":m.isRowSelection?m.rowSelection:null,pagination:!1,class:"table-list",scroll:{x:100,y:e(s)?null:l.value-55}},{bodyCell:w(({text:i,record:M,index:P,column:V})=>[p(t.$slots,"bodyCell",{text:i,record:M,index:P,column:V})]),emptyText:w(()=>[h("div",{class:"table-empty flex align-items",style:x({height:l.value-110+"px"})},[Y(A,{image:e(N)},null,8,["image"])],4)]),_:3},8,["columns","data-source","row-selection","scroll"])):r("",!0)],2),h("div",Q,[e(u)?(n(),g("div",W," \u5171"+G(e(u)||0)+"\u6761\u8BB0\u5F55 ",1)):r("",!0),e(u)?(n(),_(I,{key:1,"show-size-changer":"","show-quick-jumper":"",current:e(S),"onUpdate:current":a[0]||(a[0]=i=>C(S)?S.value=i:null),pageSize:e(d),"onUpdate:pageSize":a[1]||(a[1]=i=>C(d)?d.value=i:null),total:e(u),onChange:$,onShowSizeChange:U},null,8,["current","pageSize","total"])):r("",!0)])])):r("",!0),p(t.$slots,"bottom")],6)}}};export{ee as _};
