import{e as t,X as y,S as k,r as E,n as F,w as r,o as w,b as o,Z as z,q as S,a3 as T,g as D,ae as N,af as L,l as m}from"./index.c6516d62.js";import{_ as M}from"./page-container.9c5635db.js";import{d as g}from"./common.15b1556d.js";import{S as O}from"./SyncOutlined.74d523b0.js";import"./store.f76b099d.js";const R=D(" \u641C\u7D22 "),q=D("\u91CD\u7F6E "),$={__name:"index",setup(B){t({}),t(!1);const x=y.useForm,c=t(0),p=t(1),v=t(10);k.PRESENTED_IMAGE_SIMPLE;const l=E({s:""}),u=t(!1),{resetFields:h,validate:C,validateInfos:P}=x(l),I=t([{title:"\u5E8F\u53F7",dataIndex:"ID"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"CreatedAt"},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"UpdatedAt"},{title:"\u5145\u503C\u5361\u5BC6",dataIndex:"RechargeCDK"},{title:"\u5145\u503C\u7C7B\u578B",dataIndex:"RechargeType"}]),_=t([]),f=i=>{i&&(p.value=1);let e={},d;u.value?(d=N,e=l):(d=L,e={page:p.value,quantity:v.value}),d({data:l,splicingData:e}).then(n=>{u.value?c.value=0:c.value=n.page*20,_.value=(n.pageData||n||[]).map(a=>(a.CreatedAt&&(a.CreatedAt=g(a.CreatedAt)),a.UpdatedAt&&(a.UpdatedAt=g(a.UpdatedAt)),a))})},A=()=>{h(),u.value=!1,f()},U=()=>{C().then(i=>{l.s?u.value=!0:u.value=!1,f(!0)}).catch(i=>{console.log("error",i)})};return(i,e)=>{const d=m("a-input"),n=m("a-form-item"),a=m("a-button"),b=m("a-form");return w(),F(M,{columns:I.value,pageSize:v.value,"onUpdate:pageSize":e[1]||(e[1]=s=>v.value=s),current:p.value,"onUpdate:current":e[2]||(e[2]=s=>p.value=s),total:c.value,"onUpdate:total":e[3]||(e[3]=s=>c.value=s),isTable:!0,isSearch:!0,onOnShowSizeChange:f,onInitData:f,dataSource:_.value},{search:r(()=>[o(b,{class:"flex flex-warp",model:l},{default:r(()=>[o(n,{label:"\u5173\u952E\u5B57:",name:"s"},{default:r(()=>[o(d,{value:l.s,"onUpdate:value":e[0]||(e[0]=s=>l.s=s),placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u5B57"},null,8,["value"])]),_:1}),o(n,null,{default:r(()=>[o(a,{type:"primary",onClick:z(U,["prevent"]),class:"filter-search"},{default:r(()=>[o(S(T)),R]),_:1},8,["onClick"]),o(a,{style:{"margin-left":"10px"},class:"filter-reset",onClick:A},{default:r(()=>[o(S(O)),q]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["columns","pageSize","current","total","dataSource"])}}};export{$ as default};
